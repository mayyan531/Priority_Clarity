<!DOCTYPE html>
<html lang = "en">
    <head>
        <link rel="stylesheet" href="style_m.css"/>
        <link href='https://fonts.googleapis.com/css?family=DM Mono' rel='stylesheet'>

    </head>

    <body> 
        <div class = "container">
            <div class= "box1">

                <div class="box2">
                    <label for="taskName">Task Name:</label>
                    <input type="text" id="taskName" name="taskName">
                </div>
                
                <div class="box3">
                    <label for="deadline">Deadline:</label>
                    <input type="date" id="deadline" name="deadline">
                </div>

                <button type="add" class="btn" style="color: #000000" onclick="calculateDifference()">Add</button>

            </div>

            <p id="result" style="color: #D88C9A"></p>

        </div>

        <script>
            function calculateDaysDifference(dateString){
                function parseDate(dateString){
                    const parts = dateString.split('/');
                    const month = parseInt(parts[0], 10);
                    const day = parseInt(parts[1], 10);
                    const today = new Date();
                    const year = today.getFullYear();

                    let dateObject;
                    if(month <= 12) {
                        dateObject = new Date(year, month-1, day);
                    } else{
                        dateObject = new Date(year, month-1, day);
                    }

                    return dateObject
                }

                const today = new Date();
                const userDate = parseDate(dateString);
                const timeDifference = userDate - today;
                const daysDifference = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));
                return daysDifference;

            }

            function calculateDifference(){
                const userInput = document.getElementById('deadline').value;

                if(userInput){
                    const differenceInDays = calculateDaysDifference(userInput);
                    document.getElementById('result').innerHTML = `${differenceInDays} days`;
                } else{
                    document.getElementById('result').innerHTML = 'Please enter a valid date.';
                }
            }

        </script>

    </body>

</html>
